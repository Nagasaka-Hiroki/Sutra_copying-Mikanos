# Sutra_copying-Mikanos
## 本リポジトリの目的  
　Mikanosを写経して学習する。あくまで学習が目的です。もしソースコードが必要な方はMikanosの作者のGitHubリポジトリにアクセスしてください。URLは以下の通りです。  
> - [https://github.com/uchan-nos/mikanos.git](https://github.com/uchan-nos/mikanos.git)  

## 写経について
　ゼロからのOS自作入門でOSの作り方について学習する。写経の方法や写経用のGitHubのpublicリポジトリの作成については以下の方のブログとリポジトリを参考にさせていただいた。  
> - [自作OS初心者によるmikanos写経日記](https://zenn.dev/three/articles/2e736b8230e58b)  
> - [three-0-3/my-mikanos](https://github.com/three-0-3/my-mikanos)  

　写経の仕方は上記ブログと同様に、写経ではあるが自分で考えたコードであるように取り組む。また、進む速度は遅々としたものになるが楽しく脱線して本の内容以外にもいろいろ取り込んでいけたらと思う。  
　脱線するとはいえ、なるべきOS作りの本質的なところで脱線したい。わからないところが多いができるだけ本質的かどうか見極めて行きたい。

## Gitの操作失敗(未来の自分用)
　pushする前にマイクロコミットがたまっていたので```git rebase -i ~```でコミットをまとめようとした。その結果、途中のマイクロコミットを消して最新のコミットだけ残そうとした結果、dropの指定をして実行してしまった。その結果、見事ファイルが消えた。ファイルを救済しようと```git reflog + git reset --hard HEAD@{n}```を実行して巻き戻そうとしたが、どうやらgit reset はあくまでHEADを追いかけるらしく、途中のコミットが消えて最新のコミットが残った場合ファイルが復元できないらしい（もっと詳しく調べたらなんとかなるかもしれないが現状不明）。  
　とりあえず、マイクロコミットをなくしたい場合は```git rebase```でdropするのではなく、squashでマージしないといけないということを学んだ。幸い一番時間がかかっていたファイルは事前に救出していたので回復はそんなに時間がかからないが、危険な操作を体感できたことは良かったのでこれから注意したいと思う。

## 進め方を修正(osbook_day02bを受けて)
　osbook_day02bを進めていて進め方を修正する。序盤なのでわからないことが多く調べる量が多くなるのは仕方がないが、それにしても調べる時間が長すぎる。わからないことを調べた結果わからないことをわからない言葉で説明し、さらにそのわからない言葉を調べるといったことを繰り返す時間がほとんどで写経の時間や講義動画を見る時間に対して圧倒的に多いと思う。なのである程度そういうものと割り切って進めることにした。（といっても途中で割り切り始めているので疑問が疑問のまま放置されているのが多い。しかしメモだけでも残すのはいいと思う）

### 割り切る基準
　そういうものと割り切る基準は、1周目はみかん本の中で情報がある程度完結するようにしようと思う。みかん本でも700ページはあるので、この本のプログラムを写経するだけでも分量が多くなるため仕様書やedk2のリポジトリを積極的に覗きに行くことは控える方がいいと思う。  
　行動ベースで記述すれば、講義動画を見て、本を読み本の中で取り上げられる主題に着目して学習する。文中で出てくる関数や構造体、グローバル変数は、そういうものと思う。または関数であれば入出力と処理の目的と流れに着目し読み解いていく。兎に角1周目は走りきることが大切だと思う。  
　本格的に脱線して行くのは1周目が終わってからにするべきだと思う。